<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Ajax Blog Exercise</title>
    <script src="js/jquery-3.6.0.js"></script>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Nanum+Gothic+Coding&display=swap" rel="stylesheet">
    <style>
        *{
            font-family: 'Nanum Gothic Coding', monospace;
            font-size: large;
        }
        body{
            background-size: cover;
            background-image: url("img/parchment-background.jpg");
        }
        #posts, button{
            background-color: rgba(219, 185, 121, .5);
        }
        #seal{
            background-image: url("img/imperial-seal.png");
            background-position:center;
            background-size: auto;
            height: 277px;
            width: 789px;
        }
        hr{
            background-color: black;
            height: 3px;
        }
        ul{
            list-style: square;
        }
    </style>
</head>
<body>
<div id="seal" class="container"></div>
<div class="table">
    <div id="posts" class="container mt-5">

    </div>
</div>
<button id="refresh">Refresh</button>

<script>
    (function() {
        "use strict";
        // TODO: Create an AJAX GET request for the file under data/inventory.json
        function products(){
            $('#posts').html("");
            $.ajax("data/blog.json").done(function (products){
                for (var i = 0; i < products.length; i++){
                    var htmlAppend = "<tr id = 'product-table' class='col'>";
                    htmlAppend += "<th class='row d-flex align-self-center'><h3>" + products[i].title + "</h3>" + products[i].date + "</th>";
                    htmlAppend += "<th class='row'>" + products[i].content + "</th>";
                    htmlAppend += "<th class='row'>" + products[i].categories + "</th>";
                    htmlAppend += "<th class='row'>" + products[i].date + "</th>";
                    htmlAppend += "</tr>";
                    htmlAppend += "<hr>";

                    $('#posts').append(htmlAppend);
                }
            });
        }
        $('#refresh').click(function (event){
            event.preventDefault();
            products();
        });

        products();
    })();
</script>
</body>
</html>